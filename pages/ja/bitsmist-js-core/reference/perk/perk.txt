======Perk======

=====概要=====

パークのベースとなるクラスです。全てのパークはこのPerkを継承しています。

=====プロパティ=====

====info====

''型:Object'' ''get''

このパークに関する情報のオブジェクトを返します。以下のキーを持ちます。

^キー^型^説明^
|depends|String/Array of String|このパークが依存するパークの名前です。配列にして複数指定することも可能です。|
|section|String|このパークが使用する設定のセクション名です。このセクション名が設定に存在すると、対応するパークがユニットにアタッチされます。|
|order|Number|パークの優先度です。数値が低い方が、より優先度が高くなります。パークの初期化やイベントハンドラが、この優先順に従って実行されます。|

ベースクラスでは、空のオブジェクトを返します。

=====メソッド=====

====globalInit()====

''型:Undefined'' ''static''

パークの初期化を行います。[[ja:bitsmist-js-core:reference:perk:perk-perk#register_perk|PerkPerk.register()]]でパークを登録した時に、自動的に呼び出されます。通常、全ての処理が開始される前にパークの登録が行われます。

ベースクラスでは何も行いません。

===パラメータ===

なし。

===戻り値===

なし。

====init(unit, options)====

''型:Undefined'' ''非同期'' ''static''

パークをユニットにアタッチする際に、呼び出されます。通常、設定が読み込まれたときに、自動的に呼び出されます。アタッチされるユニットが引数として渡されます。

ベースクラスでは何も行いません。

===パラメータ===

^パラメータ^型^説明^
|unit \\ ''必須''|Unit|アタッチされたユニットです。|
|options|Object|初期化のオプションです。|

===戻り値===

なし。

====upgrade(unit, type, name, content)====

''型:Undefined'' ''static''

引数で与えられたユニットをアップグレードします。type引数によって、アップグレードの内容が変わります。

^タイプ^説明^
|"asset"|ユニットにアセットを追加します。nameにアセット名、contentにアセットの内容を指定します。|
|"method"|ユニットにメソッドを追加します。nameにメソッド名、contentにFunctionオブジェクトを指定します。|
|"property"|ユニットにプロパティを追加します。contentにgetter/setterを指定します。|
|"event"|ユニットにイベントハンドラを追加します。nameにイベント名、contentにイベントハンドラとなるFunctionオブジェクトを指定します。|
|上記以外|typeで指定されたアセットに、nameで指定された名前でcontentを追加します。|

===パラメータ===

^パラメータ^型^説明^
|unit \\ ''必須''|Unit|アップグレードするユニットです。|
|type \\ ''必須''|String|アップグレードの種類を指定します。"asset", "method", "property", "event"か、アセット名を指定します。|
|name \\ ''必須''|String|アップグレードの名前を指定します。|
|content \\ ''必須''|*|アップグレードの内容を指定します。|

===戻り値===

なし。
